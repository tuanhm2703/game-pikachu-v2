(this["webpackJsonpgame-pikachu-v2"]=this["webpackJsonpgame-pikachu-v2"]||[]).push([[0],{10:function(e,t,n){e.exports={background:"MainPage_background__2IdRT",overlay:"MainPage_overlay__3horM",navigation:"MainPage_navigation__ZmtmM",button:"MainPage_button__LsHm0",title:"MainPage_title__Tfd0f",survivalButton:"MainPage_survivalButton__3ZNBD"}},19:function(e,t,n){e.exports={background:"SinglePlayerPage_background__TBlWZ",overlay:"SinglePlayerPage_overlay__2bQzj",title:"SinglePlayerPage_title__24AZ7",form:"SinglePlayerPage_form__2c8wQ",input:"SinglePlayerPage_input__10m25",button:"SinglePlayerPage_button__15UUb",shape:"SinglePlayerPage_shape__Yks_j"}},20:function(e,t,n){e.exports={timingInfo:"GameSurvivalTiming_timingInfo__2Hnyr",timingText:"GameSurvivalTiming_timingText__8_knQ"}},21:function(e,t,n){e.exports={background:"PlayerPage_background__1IyM0",overlay:"PlayerPage_overlay__2iPCv",title:"PlayerPage_title__2vRzp",form:"PlayerPage_form__MuChp",input:"PlayerPage_input__3CEdK",button:"PlayerPage_button__2gbtQ",shape:"PlayerPage_shape__1Hhxy",inputPrompt:"PlayerPage_inputPrompt__15Vjr"}},56:function(e,t,n){},57:function(e,t,n){},79:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(25),s=n.n(o),r=(n(56),n(57),n(7)),i=n(89),l=n(6);let d=function(e){return e.MAIN_PAGE="/",e.PLAYER_PAGE="/player",e.SINGLE_PLAYER_PAGE="/single-player",e.MULTI_PLAYER_PAGE="/multi-player",e.SURVIVAL_MODE_PAGE="/survival-mode/:level",e.SURVIVAL_MODE_EASY_PAGE="/survival-mode/easy",e.SURVIVAL_MODE_HARD_PAGE="/survival-mode/hard",e.SPEED_MODE_PAGE="/speed-mode",e.BATTLE_MODE_PAGE="/battle-mode/:gameId",e}({});var u=n(3);let m=function(e){return e.SELECTED_POKEMONS_SELECTOR="SELECTED_POKEMONS_SELECTOR",e}({}),j=function(e){return e.SURVIVAL_MODE="survival",e.SPEED_MODE="speed",e}({}),b=function(e){return e.PLAYER_STATE="PLAYER_STATE",e.GAME_STATE="GAME_STATE",e.GAME_SOUND_STATE="GAME_SOUND_STATE",e.GAME_OVERLAY_STATE="GAME_OVERLAY_STATE",e.GAME_BATTLE_STATE="GAME_BATTLE_STATE",e.SELECTED_POKEMONS="SELECTED_POKEMONS",e.CHAT_SOCKET_STATE="CHAT_SOCKET_STATE",e.GAME_SUPPORT_STATE="GAME_SUPPORT_STATE",e.GAME_BATTLE_POINTS_STATE="GAME_BATTLE_POINTS_STATE",e}({}),O=function(e){return e.RUNNING="running",e.PENDING="pending",e.READY="ready",e.COMPLETED="completed",e.FAILED="failed",e}({}),p=function(e){return e[e.SUBSCRIBE=0]="SUBSCRIBE",e[e.UNSUBSCRIBE=1]="UNSUBSCRIBE",e[e.SEND_MESSAGE=2]="SEND_MESSAGE",e}({}),g=function(e){return e.READY="READY",e.UNREADY="UNREADY",e.QUIT="QUIT",e.JOINED="JOINED",e.SELECTED_POKEMON="SELECTED_POKEMON",e.INCREASE_COMPETITOR_POINTS="INCREASE_COMPETITOR_POINTS",e.DECREASE_COMPETITOR_POINTS="DECREASE_COMPETITOR_POINTS",e.FREEZE_COMPETITOR_BOARD="FREEZE_COMPETITOR_BOARD",e.LEVEL_UP_POINTS="LEVEL_UP_POINTS",e.GAME_WINNER="GAME_WINNER",e}({}),h=function(e){return e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e}({}),E=function(e){return e.START="start",e.END="end",e.LINE="line",e}({}),x=function(e){return e.LEVEL_1="1",e.LEVEL_2="2",e.LEVEL_3="3",e.LEVEL_4="4",e.LEVEL_5="5",e.LEVEL_6="6",e.LEVEL_7="7",e.LEVEL_8="8",e.LEVEL_9="9",e.LEVEL_10="10",e.LEVEL_11="11",e.LEVEL_12="12",e.LEVEL_13="13",e.LEVEL_14="MAX",e}({});const y={[x.LEVEL_1]:{row:3,col:4},[x.LEVEL_2]:{row:4,col:4},[x.LEVEL_3]:{row:4,col:5},[x.LEVEL_4]:{row:4,col:6},[x.LEVEL_5]:{row:4,col:7},[x.LEVEL_6]:{row:6,col:8},[x.LEVEL_7]:{row:7,col:8},[x.LEVEL_8]:{row:8,col:8},[x.LEVEL_9]:{row:8,col:9},[x.LEVEL_10]:{row:8,col:10},[x.LEVEL_11]:{row:8,col:11},[x.LEVEL_12]:{row:8,col:12},[x.LEVEL_13]:{row:9,col:12},[x.LEVEL_14]:{row:10,col:12}},f={[x.LEVEL_1]:x.LEVEL_2,[x.LEVEL_2]:x.LEVEL_3,[x.LEVEL_3]:x.LEVEL_4,[x.LEVEL_4]:x.LEVEL_5,[x.LEVEL_5]:x.LEVEL_6,[x.LEVEL_6]:x.LEVEL_7,[x.LEVEL_7]:x.LEVEL_8,[x.LEVEL_8]:x.LEVEL_9,[x.LEVEL_9]:x.LEVEL_10,[x.LEVEL_10]:x.LEVEL_11,[x.LEVEL_11]:x.LEVEL_12,[x.LEVEL_12]:x.LEVEL_13,[x.LEVEL_13]:x.LEVEL_14,[x.LEVEL_14]:x.LEVEL_14};let v=function(e){return e.LEVEL_UP="LEVEL_UP",e.FREEZE="FREEZE",e}({});const S=[v.LEVEL_UP,v.FREEZE],P=x.LEVEL_12,I=x.LEVEL_10;var _=Object(u.b)({key:b.GAME_SOUND_STATE,default:{soundReady:!1,gameSongDuration:0,playOpenMenuSound:void 0,playEnableSound:void 0,playDisableSound:void 0,playCompletedGameSound:void 0,playFailedGameSound:void 0,playBiteSound:void 0,playRisingPopSound:void 0,playFanfareSound:void 0,playGlugSound:void 0,playNearlyEndTimeSound:void 0,playOffSound:void 0,playOnSound:void 0,playLevelUpSound:void 0,playPopDownSound:void 0,playPopUpOnSound:void 0,playPopUpOffSound:void 0,playYouWinSound:void 0,playGameSong:void 0}}),N=n(13);var k=Object(u.b)({key:b.PLAYER_STATE,default:{rankingId:"",player:"",playerTiming:0}}),T=n(2),L=n(16);const w="assets/images/";let A=[{id:"poke-0",matched:!1,image:"".concat(w,"1.png")},{id:"poke-1",matched:!1,image:"".concat(w,"2.png")},{id:"poke-2",matched:!1,image:"".concat(w,"3.png")},{id:"poke-3",matched:!1,image:"".concat(w,"4.png")},{id:"poke-5",matched:!1,image:"".concat(w,"5.png")},{id:"poke-4",matched:!1,image:"".concat(w,"6.png")},{id:"poke-6",matched:!1,image:"".concat(w,"7.png")},{id:"poke-7",matched:!1,image:"".concat(w,"8.png")},{id:"poke-8",matched:!1,image:"".concat(w,"9.png")},{id:"poke-9",matched:!1,image:"".concat(w,"10.png")},{id:"poke-10",matched:!1,image:"".concat(w,"11.png")},{id:"poke-11",matched:!1,image:"".concat(w,"12.png")},{id:"poke-12",matched:!1,image:"".concat(w,"13.png")},{id:"poke-13",matched:!1,image:"".concat(w,"14.png")},{id:"poke-14",matched:!1,image:"".concat(w,"15.png")},{id:"poke-15",matched:!1,image:"".concat(w,"16.png")},{id:"poke-16",matched:!1,image:"".concat(w,"17.png")},{id:"poke-17",matched:!1,image:"".concat(w,"18.png")},{id:"poke-18",matched:!1,image:"".concat(w,"19.png")},{id:"poke-19",matched:!1,image:"".concat(w,"20.png")},{id:"poke-20",matched:!1,image:"".concat(w,"21.png")},{id:"poke-21",matched:!1,image:"".concat(w,"22.png")},{id:"poke-22",matched:!1,image:"".concat(w,"23.png")},{id:"poke-23",matched:!1,image:"".concat(w,"24.png")},{id:"poke-24",matched:!1,image:"".concat(w,"25.png")},{id:"poke-25",matched:!1,image:"".concat(w,"26.png")},{id:"poke-26",matched:!1,image:"".concat(w,"27.png")},{id:"poke-27",matched:!1,image:"".concat(w,"28.png")},{id:"poke-28",matched:!1,image:"".concat(w,"29.png")},{id:"poke-29",matched:!1,image:"".concat(w,"30.png")},{id:"poke-30",matched:!1,image:"".concat(w,"31.png")},{id:"poke-31",matched:!1,image:"".concat(w,"32.png")},{id:"poke-32",matched:!1,image:"".concat(w,"33.png")},{id:"poke-33",matched:!1,image:"".concat(w,"34.png")},{id:"poke-34",matched:!1,image:"".concat(w,"35.png")},{id:"poke-35",matched:!1,image:"".concat(w,"36.png")},{id:"poke-36",matched:!1,image:"".concat(w,"37.png")},{id:"poke-37",matched:!1,image:"".concat(w,"38.png")},{id:"poke-38",matched:!1,image:"".concat(w,"39.png")},{id:"poke-39",matched:!1,image:"".concat(w,"40.png")}];const G=e=>{const t=e.sort((()=>Math.random()-.5)),n={};return t.map((e=>{const t=Object(L.a)();return n[t]=e,e})),n},R=e=>{const t=(e=>{const t=[];return Object.keys(e).map((n=>(t.push(e[n]),n))),t})(e);return G(t)},D=(e,t)=>{const n=e*t/4,a=A.sort((()=>Math.random()-.5)).slice(0,n),c=[...a,...a,...a,...a];return G(c)},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const a=Object(T.a)({},e),c=n+2,o=t+2,s=Object.keys(e),r=[];for(let i=0;i<o;i++){void 0===r[i]&&(r[i]=[]);for(let e=0;e<c;e++)if(0===i||i===o-1||0===e||e===c-1){const e=Object(L.a)(),t={nid:e,id:e,matched:!0};r[i].push(t)}else{const t=s.pop();if(t){const n=Object(T.a)(Object(T.a)({},a[t]),{},{nid:t,row:i,col:e});a[t]=Object(T.a)(Object(T.a)({},a[t]),{},{rowIndex:i,colIndex:e}),r[i].push(n)}}}return{pokemonMatrix:r,pokemons:a}},C=(e,t,n,a,c)=>{const o=((e,t,n,a,c)=>{const o=a+2,s=c+2,r=(e=>{const t=[],n=e.length;for(let a=0;a<n;a++)t[a]=e[a].slice();return t})(n),i=[],l=[];for(let O=0;O<o;++O){i.push([]),l.push([]);for(let e=0;e<s;++e){const t=Object(T.a)({},r[O][e]);i[O].push(t.matched),l[O].push(void 0)}}const d=[-1,0,1,0],u=[0,1,0,-1],m=[];for(m.push(t),l[t.rowIndex][t.colIndex]={rowIndex:-2,colIndex:-2},i[e.rowIndex][e.colIndex]=!0,i[t.rowIndex][t.colIndex]=!0;m.length;){const t=m.shift();if(t){if((null===t||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===t||void 0===t?void 0:t.colIndex)===e.colIndex)break;for(let e=0;e<4;e++){let n=t.rowIndex+d[e],a=t.colIndex+u[e];for(;n>=0&&n<o&&a>=0&&a<s&&!0===i[n][a];)void 0===l[n][a]&&(l[n][a]=t,m.push({rowIndex:n,colIndex:a})),n+=d[e],a+=u[e]}}}const j=[];let b=Object(T.a)({},e);if(l[b.rowIndex][b.colIndex])for(;-2!==b.rowIndex&&-2!==b.colIndex;)j.push({rowIndex:b.rowIndex,colIndex:b.colIndex}),b=Object(T.a)({},l[b.rowIndex][b.colIndex]);return j})(e,t,n,a,c);return{connected:o.length>=2&&o.length<=4,pathPoints:o}},U=(e,t)=>{const{rowIndex:n,colIndex:a}=t;return e.find((e=>e.rowIndex===n&&e.colIndex===a))},V=(e,t,n,a,c)=>{const o=Object(T.a)({},t),s=[...e],[r,i]=s;let l=[],d=[...n];if(null!==r&&void 0!==r&&r.nid&&null!==i&&void 0!==i&&i.nid&&t[r.nid].id===t[i.nid].id){const{connected:e,pathPoints:t}=C(r,i,n,a,c);if(e){l=((e,t,n)=>{const a=t+2,c=n+2;return e.reduce(((e,t,n,o)=>{let s,r=E.LINE;const i=n-1;if(void 0===o[n+1]&&(r=E.END),o[i]){const n=o[i];n.rowIndex>t.rowIndex?s=h.TOP:n.rowIndex<t.rowIndex?s=h.BOTTOM:n.colIndex>t.colIndex?s=h.LEFT:n.colIndex<t.colIndex?s=h.RIGHT:n.rowIndex>t.rowIndex?s=h.TOP:n.rowIndex<t.rowIndex&&(s=h.BOTTOM);let r=Object(T.a)(Object(T.a)({},t),{},{direction:s,type:E.LINE});do{switch(r.direction){case h.BOTTOM:r.rowIndex--,r.rowIndex<0&&(r=void 0);break;case h.TOP:r.rowIndex++,r.rowIndex>=a&&(r=void 0);break;case h.LEFT:r.colIndex++,r.colIndex>=c&&(r=void 0);break;case h.RIGHT:r.colIndex--,r.colIndex<0&&(r=void 0)}if(void 0===r)break;if(r.rowIndex===n.rowIndex&&r.colIndex===n.colIndex)break;e.push(Object(T.a)({},r))}while(void 0!==r)}else r=E.START;const l=Object(T.a)(Object(T.a)({},t),{},{direction:s,type:r});return e.push(l),e}),[])})(t,a,c),o[r.nid]=Object(T.a)(Object(T.a)({},o[r.nid]),{},{matched:!0}),o[i.nid]=Object(T.a)(Object(T.a)({},o[i.nid]),{},{matched:!0});const{pokemonMatrix:e}=M(o,a,c);d=e}else l=[{rowIndex:-1,colIndex:-1}];s.length=0}else 2===e.length&&(s.length=0,l=[{rowIndex:-1,colIndex:-1}]);return{newSelectedPokemons:s,newMatrix:d,newPokemons:o,connectingLinePoints:l}},Y=e=>Object.keys(e).length&&-1===Object.entries(e).findIndex((e=>{let[t,n]=e;return!1===n.matched})),B=(e,t,n,a)=>{let c,o,s=!1;const r=Object.entries(e);for(;r.length;){const e=r.pop();if(void 0===e)break;const[i,l]=e;if(!1===l.matched&&(s=r.some((e=>{let[s,r]=e;if(l.id===r.id&&!1===r.matched){const{connected:e}=C(l,r,t,n,a);return e&&(l.rowIndex&&l.colIndex&&(c={rowIndex:l.rowIndex,colIndex:l.colIndex}),r.rowIndex&&r.colIndex&&(o={rowIndex:r.rowIndex,colIndex:r.colIndex})),e}return!1})),s))break}return{foundConnectLine:s,fromPoint:c,toPoint:o}};function F(e){return e.replace(/-.*$/g,"")}function W(e){return e.replace(/^.*-/g,"")}var H=n(0);var J=()=>{const{t:e}=Object(i.a)(),{player:t}=Object(u.e)(k);return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("h2",{className:"text-center",style:{color:"#A80000"},children:[e("Welcome"),", ",F(t)]})})},z=n(10),Q=n.n(z);var K=()=>{const{t:e}=Object(i.a)(),{playPopUpOnSound:t}=Object(u.e)(_);return Object(H.jsx)("div",{className:Q.a.background,children:Object(H.jsxs)("div",{className:Q.a.overlay,children:[Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"THE C.I.U - Pika pika! - Main board"})]}),Object(H.jsx)("h1",{className:Q.a.title,children:"Pika Pika!"}),Object(H.jsxs)("nav",{className:Q.a.navigation,children:[Object(H.jsx)(J,{}),Object(H.jsx)(l.b,{to:d.SURVIVAL_MODE_EASY_PAGE,children:Object(H.jsxs)("button",{className:Q.a.button,onClick:()=>t&&t(),children:['"',e("Play"),'"']})})]})]})})};var Z="https://pokemon-socket.ldktech.com";const q={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},$=e=>fetch("".concat(Z,"/rankings?mode=").concat(e)).then((e=>e.json())).then((e=>e),(e=>e));let X=function(e){return e.SUCCESS="success",e.ERROR="error",e.IDLE="idle",e.PENDING="pending",e}({});var ee=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,c]=Object(a.useState)(X.IDLE),[o,s]=Object(a.useState)(null),[r,i]=Object(a.useState)(null),l=Object(a.useCallback)((()=>(c(X.PENDING),s(null),i(null),e().then((e=>{e&&s(e),c(X.SUCCESS)})).catch((e=>{e&&i(e),c(X.ERROR)})))),[e]);return Object(a.useEffect)((()=>{t&&l()}),[l,t]),{execute:l,status:n,value:o,error:r}};function te(e){if(e<=0)return"00:00";const t=e%60;return Math.floor(e/60).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")}function ne(e){return new Date(e).toLocaleString()}var ae=e=>{var t;let{fetch:n,mode:a}=e;const{t:c}=Object(i.a)(),{playPopUpOnSound:o}=Object(u.e)(_),{status:s,value:r,error:m}=ee(n);return Object(H.jsxs)(H.Fragment,{children:[r&&null===r.data&&(a===j.SPEED_MODE?Object(H.jsx)(l.b,{to:d.SPEED_MODE_PAGE,children:Object(H.jsx)("button",{onClick:()=>o&&o(),style:{width:"calc(100% - 32px)",margin:16},children:c("Make your own ranking")})}):Object(H.jsx)(l.b,{to:d.SURVIVAL_MODE_PAGE,children:Object(H.jsx)("button",{onClick:()=>o&&o(),style:{width:"calc(100% - 32px)",margin:16},children:c("Make your own ranking")})})),Object(H.jsxs)("ol",{className:"rank-list",children:[s===X.SUCCESS&&null!==r&&void 0!==r&&r.data?null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.map(((e,t)=>e.timing&&Object(H.jsxs)("li",{children:[e.player," - ",te(e.timing)," -"," ",ne(e.timestamp)]},"id-".concat(t)))):Object(H.jsx)("li",{children:c("Service is under maintenance")}),s===X.ERROR&&m&&Object(H.jsx)("p",{className:"has-error",children:m})]})]})};const ce=()=>{const{t:e}=Object(i.a)();return Object(H.jsxs)("div",{className:"max-screen-container rank-board",children:[Object(H.jsx)("h1",{children:e("Top players")}),Object(H.jsxs)("div",{className:"row",children:[Object(H.jsxs)("div",{className:"col",children:[Object(H.jsx)("h4",{children:Object(H.jsx)("em",{children:e("The longest is best")})}),Object(H.jsx)(ae,{fetch:()=>$(j.SURVIVAL_MODE),mode:j.SURVIVAL_MODE})]}),Object(H.jsxs)("div",{className:"col",children:[Object(H.jsx)("h4",{children:Object(H.jsx)("em",{children:e("The fastest is best")})}),Object(H.jsx)(ae,{fetch:()=>$(j.SPEED_MODE),mode:j.SPEED_MODE})]})]})]})};var oe=Object(a.memo)(ce,(()=>!0));var se=Object(u.b)({key:b.GAME_STATE,default:{status:O.PENDING,row:3,col:4,pokemons:{},matrix:[],level:x.LEVEL_1}});var re=Object(u.b)({key:b.GAME_OVERLAY_STATE,default:{connectingLinePoints:[],suggestPoints:[void 0,void 0],freezing:!1}});var ie=Object(u.b)({key:b.SELECTED_POKEMONS,default:[]});var le=Object(u.c)({key:m.SELECTED_POKEMONS_SELECTOR,get:e=>{let{get:t}=e;return t(ie)},set:(e,t)=>{let{set:n,get:a}=e;const{row:c,col:o,status:s,matrix:r,pokemons:i,level:l}=a(se),d=[...a(ie)];d.push(t);const{connectingLinePoints:u,newMatrix:m,newPokemons:j,newSelectedPokemons:b}=V(d,i,r,c,o);u.length>=1&&(u.length>1&&n(se,{row:c,col:o,status:s,level:l,matrix:m,pokemons:j}),n(re,{suggestPoints:[void 0,void 0],connectingLinePoints:u})),n(ie,b)}});function de(e){const t=Object(u.g)(se),n=Object(u.g)(k),c=Object(u.g)(le),o=Object(u.f)(se),s=Object(u.f)(re),r=Object(u.f)(ie),{playBiteSound:i,playFanfareSound:l,playNearlyEndTimeSound:d,playYouWinSound:m}=Object(u.e)(_),b=Object(a.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.PENDING;const{row:a,col:c}=y[e],o=D(a,c),{pokemonMatrix:s,pokemons:r}=M(o,a,c);t({pokemons:r,matrix:s,level:e,row:a,col:c,status:n})}),[t]);return{initGame:b,replayGame:e=>{b(x.LEVEL_1)},startGame:()=>{t((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.RUNNING})))},endGame:function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e===j.SURVIVAL_MODE&&(n?m&&m():d&&d(),t((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.COMPLETED}))))},selectPokemon:(e,t,n)=>{i&&i(),c({nid:e,rowIndex:t,colIndex:n})},resetGame:()=>{o(),s(),r()},addNewRankingScore:(e,t)=>{(e=>{const t=Object(T.a)(Object(T.a)({},q),{},{body:JSON.stringify(e)});return fetch("".concat(Z,"/rankings"),t).then((e=>e.json())).then((e=>e),(e=>e))})({mode:e,player:t,timestamp:Date.now()}).then((e=>{n((t=>{var n;return Object(T.a)(Object(T.a)({},t),{},{rankingId:null!==(n=e.id)&&void 0!==n?n:Object(L.a)()})}))}))},updateNewRankingScore:(e,t,n,a)=>{((e,t)=>{const n=Object(T.a)(Object(T.a)({},q),{},{method:"PUT",body:JSON.stringify(t)});fetch("".concat(Z,"/rankings/").concat(e),n).then((e=>e.json())).then((e=>e),(e=>e))})(e,{mode:t,player:n,timing:a,timestamp:Date.now()})}}}function ue(e,t){const[n,c]=Object(a.useState)((()=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.log(n),t}}));return[n,t=>{try{const a=t instanceof Function?t(n):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(a){console.log(a)}}]}var me=n(37),je=n(23);me.a.use(je.e).init({resources:{en:{translation:{English:"English",Vietnamese:"Vietnamese",Back:"Back",Replay:"Replay",Language:"Language",Level:"Level",Welcome:"Welcome",Congratulations:"Congratulations",Submit:"Submit",Out:"Out",Quit:"Quit",Ready:"Ready",Stop:"Stop",You:"You",Competitor:"Competitor",Join:"Join","Battle rule":"Battle rule","Your points":"Your points","Competitor points":"Competitor points","The fastest is best":"The fastest is best","The longest is best":"The longest is best","Your score":"Your score","Your time":"Your time","Remaining time":"Remaining time","New game ID just created":"New game just created ID - `{{gameId}}`","Top players":"Top players","Single player":"Single player","Multi player":"Multi player","Main menu":"Main menu","Speed mode":"Speed mode","Survival mode":"Survival mode","Enter match ID":"Enter match ID","Click to join":"Click to join","Coming soon...":"Coming soon...","Scroll down to play":"Scroll down to play","Scroll down to chat":"Scroll down to chat and find match","Preparing resource...":"Preparing resource...","Please complete all levels as fast as you can":"Please complete all levels as fast as you can","Try your best not to run out of time as long as possible.":"Try your best not to run out of time as long as possible","Your time will increase when you match a pair of pokemon":"Your time will increase when you match a pair of pokemon","Choosing the wrong pair will increase the time":"Choosing the wrong pair will increase the time","Choosing the wrong pair will decrease the time":"Choosing the wrong pair will decrease the time","Accept alphabet and digit only.":"Accept alphabet, digits and space only.","Please enter your name":"Please enter your name","Enter your name here":"Enter your name here","Make your own ranking":"Make your own ranking","Make match":"Make match","Find random match":"Find random match","Enter your message here...":"Enter your message here...","Service is not available now.":"Service is not available now.","Please try again":"Please try again","Chat slowly please":"Chat slowly please","Please enter the right match ID":"Please enter the right match ID","Service is under maintenance":"Service is under maintenance","Welcome to pokemon game!":"Welcome {{name}} to pokemon game!","Have a good time playing the game.":"Have a good time playing the game, {{name}}.","Sorry, I'm trying to connect our service again.":"Sorry {{ name }}, I'm trying to connect our service again.","Connect to service failed. Will try again in the next 5s. Please wait for it.":"Connect to service failed. Will try again in the next 5s. Please wait for it.","(Help) You can click on a `Game ID` of others to join the match.":"(Help) Hi {{name}}, you can click on a `Game ID` of others to join the match.","(Help) Please click on make match to create your own match!":"(Help) Hi {{name}}, you click on `Make match` button to create your own match!","If your points are over competitor points 50 points. You are the winner and vice versa.":"If your points are over competitor points 50 points. You are the winner and vice versa.","Matched the wrong pair of pokemon, your points will be decreased":"Matched the wrong pair of pokemon, your points will be decreased by {{point}} points.","Matched pair of pokemon, your points will be increased":"Matched pair of pokemon, your points will be increased by {{point}} points.","Every time you level up, you will deal 1 of 2 effects `Freeze enemy` or `Give points to yourself`":"Every time you level up, you will deal 1 of 2 effects `Freeze enemy {{second}} second` or `Give {{point}} points to yourself`"}},vi:{translation:{English:"Ti\u1ebfng Anh",Vietnamese:"Ti\u1ebfng Vi\u1ec7t",Back:"Quay v\u1ec1",Replay:"Ch\u01a1i l\u1ea1i",Language:"Ng\xf4n ng\u1eef",Level:"C\u1ea4P \u0110\u1ed8",Welcome:"Ch\xe0o b\u1ea1n",Congratulations:"Xin ch\xfac m\u1eebng",Submit:"Nh\u1eadp",Out:"Tho\xe1t",Quit:"Tho\xe1t",Ready:"S\u1eb5n s\xe0ng",Stop:"D\u1eebng",You:"B\u1ea1n",Competitor:"\u0110\u1ed1i th\u1ee7",Join:"Tham gia","Battle rule":"Lu\u1eadt ch\u01a1i","Active players":"Ng\u01b0\u1eddi ch\u01a1i","Active games":"Tr\u1eadn \u0111\u1ea5u","Your points":"\u0110i\u1ec3m c\u1ee7a b\u1ea1n","Competitor points":"\u0110i\u1ec3m \u0111\u1ed1i th\u1ee7","The fastest is best":"Ho\xe0n th\xe0nh c\xe0ng s\u1edbm, th\u1ee9 h\u1ea1ng c\xe0ng cao","The longest is best":"K\xe9o d\xe0i th\u1eddi gian c\xe0ng l\xe2u, th\u1ee9 h\u1ea1ng c\xe0ng cao","Your score":"\u0110i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n","Your time":"Th\u1eddi gian c\u1ee7a b\u1ea1n","Remaining time":"Th\u1eddi gian c\xf2n l\u1ea1i","Top players":"Danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i h\xe0ng \u0111\u1ea7u","Single player":"C\xe1 nh\xe2n","Multi player":"\u0110\u1ed1i kh\xe1ng","Main menu":"M\xe0n h\xecnh ch\xednh","Speed mode":"T\u1ed1c \u0111\u1ed9","Survival mode":"Sinh t\u1ed3n","Enter match ID":"Nh\u1eadp ID tr\u1eadn \u0111\u1ea5u","New game ID just created":"Tr\u1eadn \u0111\u1ea5u m\u1edbi v\u1eeba \u0111\u01b0\u1ee3c t\u1ea1o ID - `{{gameId}}`","Coming soon...":"\u0110ang ph\xe1t tri\u1ec3n...","Click to join":"Tham gia","Preparing resource...":"\u0110ang chu\u1ea9n b\u1ecb...","Scroll down to play":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 ch\u01a1i","Scroll down to chat":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 nh\u1eafn tin v\xe0 t\xecm tr\u1eadn","Please complete all levels as fast as you can":"H\xe3y ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 c\u1ea5p \u0111\u1ed9 nhanh nh\u1ea5t c\xf3 th\u1ec3 ","Try your best not to run out of time as long as possible":"C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 kh\xf4ng h\u1ebft th\u1eddi gian l\xe2u nh\u1ea5t c\xf3 th\u1ec3","Your time will increase when you match a pair of pokemon":"Th\u1eddi gian c\u1ee7a b\u1ea1n s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon","Choosing the wrong pair will increase the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb t\u0103ng th\xeam th\u1eddi gian","Choosing the wrong pair will decrease the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian","Accept alphabet and digit only.":"Ch\u1ec9 ch\u1ea5p nh\u1eadn ch\u1eef c\xe1i, ch\u1eef s\u1ed1 v\xe0 k\xed t\u1ef1 tr\u1eafng.","Please enter your name":"H\xe3y nh\u1eadp t\xean c\u1ee7a b\u1ea1n","Enter your name here":"Nh\u1eadp t\xean b\u1ea1n t\u1ea1i \u0111\xe2y","Make your own ranking":"T\u1ea1o x\u1ebfp h\u1ea1ng c\u1ee7a b\u1ea1n","Make match":"T\u1ea1o tr\u1eadn \u0111\u1ea5u","Find random match":"T\xecm tr\u1eadn ng\u1eabu nhi\xean","Please enter the right match ID":"H\xe3y nh\u1eadp \u0111\xfang m\xe3 tr\u1eadn \u0111\u1ea5u","Enter your message here...":"Nh\u1eadp tin nh\u1eafn t\u1ea1i \u0111\xe2y...","Service is not available now.":"D\u1ecbch v\u1ee5 hi\u1ec7n t\u1ea1i kh\xf4ng kh\u1ea3 d\u1ee5ng.","Please try again":"Th\u1eed l\u1ea1i","Chat slowly please":"Chat ch\u1eadm l\u1ea1i b\u1ea1n nh\xe9","Service is under maintenance":"D\u1ecbch v\u1ee5 \u0111ang \u0111\u01b0\u1ee3c b\u1ea3o tr\xec","Welcome to pokemon game!":"Ch\xe0o m\u1eebng b\u1ea1n {{name}} \u0111\u1ebfn v\u1edbi tr\xf2 ch\u01a1i pokemon!","Have a good time playing the game.":"Ch\xfac b\u1ea1n {{name}} c\xf3 m\u1ed9t kho\u1ea3ng th\u1eddi gian ch\u01a1i tho\u1ea3i m\xe1i v\xe0 vui v\u1ebb.","Sorry, I'm trying to connect our service again.":"Xin l\u1ed7i {{ name }}, T\xf4i \u0111ang c\u1ed1 g\u1eafng k\u1ebft n\u1ed1i d\u1ecbch v\u1ee5 tr\u1edf l\u1ea1i.","Connect to service failed. Will try again in the next 5s. Please wait for it.":"K\u1ebft n\u1ed1i t\u1edbi d\u1ecbch v\u1ee5 th\u1ea5t b\u1ea1i, s\u1ebd th\u1eed l\u1ea1i trong 5s. Vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t.","(Help) You can click on a `Game ID` of others to join the match.":"(H\u1ed7 tr\u1ee3) Ch\xe0o {{name}}, b\u1ea1n c\xf3 th\u1ec3 click v\xe0o `Game ID` c\u1ee7a ng\u01b0\u1eddi kh\xe1c \u0111\u1ec3 tham gia tr\u1eadn \u0111\u1ea5u.","(Help) Please click on make match to create your own match!":"(H\u1ed7 tr\u1ee3) Ch\xe0o {{name}}, B\u1ea1n h\xe3y b\u1ea5m n\xfat `T\u1ea1o tr\u1eadn` \u0111\u1ec3 c\xf3 th\u1ec3 b\u1eaft \u0111\u1ea7u tr\u1eadn \u0111\u1ea5u c\u1ee7a m\xecnh!","If your points are over competitor points 50 points. You are the winner and vice versa.":"N\u1ebfu \u0111i\u1ec3m c\u1ee7a b\u1ea1n h\u01a1n \u0111\u1ed1i th\u1ee7 c\u1ea1nh tranh 50 \u0111i\u1ec3m. B\u1ea1n l\xe0 ng\u01b0\u1eddi chi\u1ebfn th\u1eafng v\xe0 ng\u01b0\u1ee3c l\u1ea1i.","Matched the wrong pair of pokemon, your points will be decreased":"K\u1ebft h\u1ee3p sai c\u1eb7p pokemon, \u0111i\u1ec3m c\u1ee7a b\u1ea1n s\u1ebd b\u1ecb gi\u1ea3m {{point}} \u0111i\u1ec3m.","Matched pair of pokemon, your points will be increased":"Ch\u1ecdn c\u1eb7p pokemon ph\xf9 h\u1ee3p, \u0111i\u1ec3m c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c t\u0103ng l\xean {{point}} \u0111i\u1ec3m","Every time you level up, you will deal 1 of 2 effects `Freeze enemy` or `Give points to yourself`":"M\u1ed7i khi t\u0103ng c\u1ea5p b\u1ea1n s\u1ebd g\xe2y 1 trong 2 hi\u1ec7u \u1ee9ng `\u0110\xf3ng b\u0103ng \u0111\u1ed1i ph\u01b0\u01a1ng {{second}} gi\xe2y` ho\u1eb7c `T\u0103ng {{point}} \u0111i\u1ec3m cho b\u1ea3n th\xe2n`"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var be=me.a;var Oe=()=>{const{t:e}=Object(i.a)(),{playOffSound:t}=Object(u.e)(_),[n,a]=ue("language","vi"),c=e=>{be.changeLanguage(e),a(e),t&&t()};return Object(H.jsxs)("h5",{className:Q.a.switchLanguage,children:[e("Language"),":"," ",Object(H.jsx)("strong",{onClick:()=>c("en"),children:e("English")})," -"," ",Object(H.jsx)("strong",{onClick:()=>c("vi"),children:e("Vietnamese")})]})},pe=n(19),ge=n.n(pe);var he=()=>{const{t:e}=Object(i.a)(),{playPopUpOnSound:t}=Object(u.e)(_),{resetGame:n}=de(j.SURVIVAL_MODE);return Object(a.useEffect)((()=>{n()}),[n]),Object(H.jsx)("div",{className:ge.a.background,children:Object(H.jsxs)("div",{className:ge.a.overlay,children:[Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"Pika pika! - Single player"})]}),Object(H.jsx)("h1",{className:ge.a.title,children:e("Single player")}),Object(H.jsx)(J,{}),Object(H.jsxs)("div",{className:ge.a.form,style:{marginBottom:24},children:[Object(H.jsx)(l.b,{to:d.SURVIVAL_MODE_PAGE,children:Object(H.jsx)("button",{className:ge.a.button,onClick:()=>t&&t(),children:e("Survival mode")})}),Object(H.jsx)(l.b,{to:d.SPEED_MODE_PAGE,children:Object(H.jsx)("button",{className:ge.a.button,onClick:()=>t&&t(),children:e("Speed mode")})}),Object(H.jsx)(l.b,{to:d.MAIN_PAGE,children:Object(H.jsx)("button",{className:ge.a.button,onClick:()=>t&&t(),children:e("Back")})})]}),Object(H.jsx)(oe,{}),Object(H.jsx)(Oe,{})]})})},Ee=n(14),xe=n.n(Ee);let ye=function(e){return e.MESSAGES_STATE="MESSAGES_STATE",e}({});const fe="general",ve="wss://pokemon-game.ldktech.com/websocket";var Se=Object(u.b)({key:ye.MESSAGES_STATE,default:{messages:[]}});var Pe=e=>{let{handleSubmit:t}=e;const{t:n}=Object(i.a)(),[c,o]=Object(a.useState)(1);return Object(H.jsx)("div",{className:"chat-box",children:Object(H.jsx)("form",{onSubmit:e=>{c?(o(0),t(e),setTimeout((()=>{o(1)}),300)):alert(n("Chat slowly please"))},children:Object(H.jsx)("input",{name:"message",placeholder:n("Enter your message here..."),autoFocus:!0,autoComplete:"off"})})})};const Ie=e=>{let{message:t}=e;const{player:n}=Object(u.e)(k),{t:a}=Object(i.a)(),c=Object(r.f)();let o;try{const{name:e,content:s,timestamp:r}=JSON.parse(t),i=s.match(/ID - `([^`]{8})`$/);i&&i[1]&&(o=i[1]);const l=n===e?"self":"",u=()=>{o&&c.push(d.BATTLE_MODE_PAGE.replace(":gameId",o))};return Object(H.jsxs)("div",{className:"message ".concat(l),children:[Object(H.jsxs)("small",{className:"message-name",children:[F(e)," ",Object(H.jsxs)("em",{children:["(ID: ",W(e),")"]})]}),Object(H.jsxs)("strong",{className:"message-content",children:[s.replace(/ID - `([^`]{8})`$/,"")," ",o&&Object(H.jsxs)("em",{onClick:u,className:"button button-join-game",children:[Object(H.jsxs)("span",{className:"hidden-mobile",children:[a("Join"),":"]})," ",o]})]}),Object(H.jsx)("small",{className:"message-date",children:Object(H.jsx)("em",{children:ne(r)})})]})}catch(s){return console.log(s),null}};function _e(e,t){return e.message===t.message}var Ne=Object(a.memo)(Ie,_e);var ke=()=>{const[{messages:e},t]=Object(u.d)(Se);return Object(a.useEffect)((()=>{const n=document.getElementById("messages-box");n&&n.scrollTo({behavior:"smooth",top:n.scrollHeight}),e.length>500&&t({messages:e.slice(-400)})}),[e.length]),Object(H.jsx)("div",{id:"messages-box",className:"messages-box",children:e.map(((e,t)=>{const n=Object(L.a)();return e&&Object(H.jsx)(Ne,{message:e.content},n)}))})};const Te=()=>fetch("".concat(Z,"/users")).then((e=>e.json())).then((e=>e),(e=>e));function Le(){return!0}const we=e=>{let{player:t}=e;return Object(H.jsxs)("li",{className:"active-player",children:[Object(H.jsx)("strong",{children:F(t)}),Object(H.jsx)("small",{children:Object(H.jsxs)("em",{children:["ID: ",W(t)]})})]})};function Ae(e,t){return e.player===t.player}var Ge=Object(a.memo)(we,Ae);const Re=()=>{var e;const{status:t,value:n,error:c,execute:o}=ee(Te,!0),{t:s}=Object(i.a)();return Object(a.useEffect)((()=>{const e=setTimeout((()=>{o()}),1e4);return()=>{e&&clearTimeout(e)}}),[t]),Object(H.jsxs)("div",{className:"active-players-box",children:[Object(H.jsx)("h3",{children:s("Active players")}),Object(H.jsx)("ul",{children:t===X.SUCCESS&&(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.map(((e,t)=>Object(H.jsx)(Ge,{player:e},W(e)))))})]})};var De=Object(a.memo)(Re,Le);var Me=Object(u.b)({key:b.GAME_SUPPORT_STATE,default:{supported:!1,tutorial:!1}});var Ce=Object(u.b)({key:b.CHAT_SOCKET_STATE,default:{sendMakeGame:void 0}});const Ue=()=>fetch("".concat(Z,"/games")).then((e=>e.json())).then((e=>e),(e=>e)),Ve=e=>fetch("".concat(Z,"/game/").concat(e)).then((e=>e.json())).then((e=>e),(e=>e));var Ye=e=>{var t;let{gameId:n}=e;const{t:c}=Object(i.a)(),o=Object(a.useCallback)((()=>Ve(n)),[n]),{status:s,value:r}=ee(o),u=(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.length)>=2?"full-slot":"";return Object(H.jsx)(H.Fragment,{children:s===X.SUCCESS&&Object(H.jsx)("li",{className:"active-player ".concat(u),children:Object(H.jsx)(l.b,{to:d.BATTLE_MODE_PAGE.replace(":gameId",n),children:Object(H.jsxs)("button",{className:"button-join-game",children:[Object(H.jsxs)("span",{className:"hidden-mobile",children:[c("Join"),":"]}),n]})})})})};const Be=()=>{var e;const{status:t,value:n,error:c,execute:o}=ee(Ue,!0),{t:s}=Object(i.a)();return Object(a.useEffect)((()=>{const e=setTimeout((()=>{o()}),1e4);return()=>{e&&clearTimeout(e)}}),[t]),Object(H.jsxs)("div",{className:"active-players-box",children:[Object(H.jsx)("h3",{children:s("Active games")}),Object(H.jsx)("ul",{children:t===X.SUCCESS&&(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.map(((e,t)=>Object(H.jsx)(Ye,{gameId:e},e))))})]})};var Fe=Object(a.memo)(Be,Le);const We=e=>{let{room:t}=e;const{t:n}=Object(i.a)(),{player:c}=Object(u.e)(k),[{supported:o},s]=Object(u.d)(Me),{playPopUpOnSound:r}=Object(u.e)(_),l=Object(u.g)(Se),d=Object(u.g)(Ce),[m]=Object(a.useState)("".concat(ve,"/chat")),{sendJsonMessage:j,readyState:b,lastJsonMessage:O,lastMessage:g}=xe()(m,{reconnectAttempts:30,reconnectInterval:5e3,retryOnError:!0,shouldReconnect:()=>!0,queryParams:{username:c},onOpen:()=>{setTimeout((()=>{const e={command:2,channel:fe,name:"PokeBot",content:n("Welcome to pokemon game!",{name:c}),timestamp:Date.now()};j(e),!1===o&&setTimeout((()=>{const e={command:2,channel:fe,name:"PokeBot",content:n("(Help) Please click on make match to create your own match!",{name:c}),timestamp:Date.now()};l((t=>{let{messages:n}=t;return{messages:[...n,{content:JSON.stringify(e),channel:fe}]}})),setTimeout((()=>{const e={command:2,channel:fe,name:"PokeBot",content:n("(Help) You can click on a `Game ID` of others to join the match.",{name:c}),timestamp:Date.now()};l((t=>{let{messages:n}=t;return{messages:[...n,{content:JSON.stringify(e),channel:fe}]}})),s((e=>Object(T.a)(Object(T.a)({},e),{},{supported:!0})))}),5e3)}),5e3)}),5e3)},onMessage:e=>{r&&r()},onClose:()=>{const e={command:2,channel:fe,name:"PokeBot",content:n("Sorry, I'm trying to connect our service again.",{name:c}),timestamp:Date.now()};l((t=>{let{messages:n}=t;return{messages:[...n,{content:JSON.stringify(e),channel:fe}]}}))},onError:()=>{const e={command:2,channel:fe,name:"PokeBot",content:n("Connect to service failed. Will try again in the next 5s. Please wait for it."),timestamp:Date.now()};l((t=>{let{messages:n}=t;return{messages:[...n,{content:JSON.stringify(e),channel:fe}]}}))}}),{sendMakeGame:h}=function(e){let{sendJsonMessage:t,player:n}=e;const a={command:p.SEND_MESSAGE,channel:fe,name:n};return{sendMakeGame:e=>{const n=Object(T.a)(Object(T.a)({},a),{},{content:e,timestamp:Date.now()});t(n)}}}({sendJsonMessage:j,player:c});Object(a.useEffect)((()=>{d((e=>Object(T.a)(Object(T.a)({},e),{},{sendMakeGame:h})))}),[h]),Object(a.useEffect)((()=>{O&&l((e=>{let{messages:t}=e;return{messages:[...t,O]}}))}),[g]);const E=Object(a.useCallback)((e=>{const t={command:2,channel:fe,name:c,content:e,timestamp:Date.now()};j(t)}),[]);return Object(H.jsx)("div",{className:"chat-room",children:Object(H.jsxs)("div",{className:"chat-container",children:[Object(H.jsxs)("div",{className:"chat-box-container",children:[Object(H.jsx)(ke,{}),b===Ee.ReadyState.OPEN&&Object(H.jsx)(Pe,{handleSubmit:e=>{e.preventDefault();const t=e.currentTarget.message;t.setAttribute("disabled","true");const a=t.value.replace(/\b(dit|du|fuck|cu|dcm|dm|dcm|cat)\b/g,"*");a&&""!==a.trim()?(E(a.replaceAll("`","")),t.value=""):alert(n("Please enter your message")),t.removeAttribute("disabled"),t.focus()}}),[Ee.ReadyState.CLOSED,Ee.ReadyState.CLOSING,Ee.ReadyState.CONNECTING].includes(b)&&Object(H.jsxs)("div",{className:"service-status",children:[n("Service is not available now."),Object(H.jsx)("strong",{className:"clickable",onClick:()=>{window.location.reload()},children:n("Please try again")})]})]}),Object(H.jsxs)("div",{className:"active-boxes",children:[Object(H.jsx)(De,{}),Object(H.jsx)(Fe,{})]})]})})};function He(e,t){return e.room===t.room}var Je=Object(a.memo)(We,He);var ze=Object(u.b)({key:b.GAME_BATTLE_STATE,default:{gameId:void 0,allReady:[],competitor:void 0,winner:void 0,socketStatus:Ee.ReadyState.UNINSTANTIATED,sendSelectedPokemon:void 0,sendReadyGame:void 0,sendUnReadyGame:void 0,sendQuitGame:void 0,sendJoinedGame:void 0,sendDecreasePoints:void 0,sendIncreasePoints:void 0,sendGameEffect:void 0,sendGameWinner:void 0}});var Qe=()=>{const{t:e}=Object(i.a)(),t=Object(r.f)(),{playPopUpOnSound:n,playGlugSound:c}=Object(u.e)(_),o=Object(u.f)(ze),{sendMakeGame:s}=Object(u.e)(Ce);Object(a.useEffect)((()=>{o()}),[]);return Object(H.jsxs)("div",{className:"chat-board",children:[Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"Pika pika! - Multi player"})]}),Object(H.jsx)("div",{className:"game-board",children:Object(H.jsx)(Je,{room:fe})}),Object(H.jsxs)("div",{className:"sidebar",children:[Object(H.jsxs)("div",{className:"game-info",children:[Object(H.jsx)("h1",{className:"game-title",children:e("Multi player")}),Object(H.jsx)("p",{className:"mobile-helper",children:e("Scroll down to chat")}),Object(H.jsx)(J,{})]}),Object(H.jsx)("div",{children:Object(H.jsxs)("div",{className:"text-center",children:[Object(H.jsx)("button",{onClick:()=>{n&&n();const a=Object(L.a)(8),c=e("New game ID just created",{gameId:a});s&&s(c),setTimeout((()=>{t.push(d.BATTLE_MODE_PAGE.replace(":gameId",a))}),200)},children:e("Make match")}),Object(H.jsx)("div",{className:"inline-button",children:Object(H.jsxs)("form",{onSubmit:n=>{n.preventDefault();const a=n.currentTarget.matchId.value;if(!n.currentTarget.matchId.value||""===n.currentTarget.matchId.value.trim())return c&&c(),void alert(e("Please enter the right match ID"));t.push(d.BATTLE_MODE_PAGE.replace(":gameId",a))},children:[Object(H.jsx)("input",{name:"matchId",maxLength:8,placeholder:e("Enter match ID")}),Object(H.jsx)("button",{children:e("Join")})]})}),Object(H.jsx)(l.b,{to:d.MAIN_PAGE,children:Object(H.jsx)("button",{onClick:()=>n&&n(),children:e("Main menu")})})]})}),Object(H.jsx)(Oe,{})]})]})};const Ke=e=>{var t;let{pokemon:n,rowIndex:a,colIndex:c,isSelected:o,status:s,selectPokemon:r}=e;const i=o?"selected":"",l=n.matched?"hidden":"";return Object(H.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(t=n.image)&&void 0!==t?t:"",")")},className:"pokemon-card ".concat(i," ").concat(l),onClick:()=>{!n.matched&&s===O.RUNNING&&n.nid&&r(n.nid,a,c)}})};function Ze(e,t){return e.pokemon.nid===t.pokemon.nid&&e.pokemon.image===t.pokemon.image&&e.pokemon.matched===t.pokemon.matched&&e.isSelected===t.isSelected&&e.status===t.status}var qe=Object(a.memo)(Ke,Ze);var $e=e=>{let{pokemons:t,rowIndex:n,mode:a,status:c}=e;const o=Object(u.e)(ie),{selectPokemon:s}=de(a);return Object(H.jsx)(H.Fragment,{children:t.map(((e,t)=>Object(H.jsx)(qe,{pokemon:e,rowIndex:n,colIndex:t,isSelected:void 0!==e.nid&&o.findIndex((t=>{let{nid:n}=t;return n===e.nid}))>=0,selectPokemon:s,status:c},"card-".concat(t))))})};function Xe(e){const t=Object(r.g)(),{playFanfareSound:n,playLevelUpSound:c,playCompletedGameSound:o,playYouWinSound:s}=Object(u.e)(_),{initGame:i,replayGame:l,endGame:d,addNewRankingScore:m,updateNewRankingScore:b}=de(e),p=Object(u.g)(se),g=Object(u.e)(k),{matrix:h,row:E,col:y,status:v,pokemons:S,level:I}=Object(u.e)(se);return Object(a.useEffect)((()=>(v===O.PENDING&&(i(I),m(e,g.player)),()=>{})),[v,i]),Object(a.useEffect)((()=>{v===O.COMPLETED&&g.rankingId&&b(g.rankingId,e,g.player,g.playerTiming)}),[g.rankingId,g.playerTiming]),Object(a.useEffect)((()=>{if(Y(S)){const t=f[I];t!==P||e===j.SURVIVAL_MODE?(i(t,O.RUNNING),o&&o()):e===j.SPEED_MODE&&(s&&s(),p({matrix:h,row:E,col:y,pokemons:S,level:I,status:O.COMPLETED}))}else{const{foundConnectLine:e}=B(S,h,E,y);Object.keys(S).length&&!1===e&&((e=>{const t=R(e),{pokemonMatrix:n,pokemons:a}=M(t,E,y);p({pokemons:a,matrix:n,level:I,row:E,col:y,status:O.RUNNING})})(S),c&&c())}}),[S]),Object(a.useEffect)((()=>{v===O.RUNNING&&i(x.LEVEL_8)}),[t]),{initGame:i,replayGame:l,endGame:d,matrix:h,row:E,col:y,status:v,level:I}}var et=e=>{let{mode:t}=e;const{matrix:n,row:a,col:c,status:o}=Xe(t);return Object(H.jsx)("div",{className:"game-pokemon board-".concat(a,"x").concat(c),children:n&&n.map(((e,n)=>Object(H.jsx)($e,{mode:t,rowIndex:n,pokemons:e,status:o},"row-".concat(n))))})};const tt=e=>{let{point:t,suggested:n,rowIndex:c,colIndex:o}=e;const s=t&&t.type?"".concat(t.type,"-point"):"",r=t&&t.direction?"".concat(t.direction,"-direction"):"",i=t?"in-line ".concat(r," ").concat(s):"",l=n?"suggested":i,d=Object(a.useRef)(null);return Object(a.useEffect)((()=>(setTimeout((()=>{d.current&&(r&&d.current.classList.remove(r),s&&d.current.classList.remove(s))}),300),()=>{})),[d,r,s]),Object(H.jsx)("div",{ref:d,className:"line-card ".concat(l),children:Object(H.jsxs)("strong",{children:[c,",",o]})})};function nt(e,t){var n,a,c,o;return void 0===e.point&&void 0===t.point?e.suggested===t.suggested:e.suggested===t.suggested&&(null===(n=e.point)||void 0===n?void 0:n.direction)===(null===(a=t.point)||void 0===a?void 0:a.direction)&&(null===(c=e.point)||void 0===c?void 0:c.type)===(null===(o=t.point)||void 0===o?void 0:o.type)}var at=Object(a.memo)(tt,nt);var ct=e=>{let{cards:t,rowIndex:n,connectingLinePoints:a,suggestPoints:c}=e;return Object(H.jsx)(H.Fragment,{children:t.map(((e,t)=>Object(H.jsx)(at,{rowIndex:n,colIndex:t,point:U(a,{rowIndex:n,colIndex:t}),suggested:c&&c.findIndex((e=>(null===e||void 0===e?void 0:e.rowIndex)===n&&(null===e||void 0===e?void 0:e.colIndex)===t))>=0},"card-".concat(t))))})};var ot=()=>{const{connectingLinePoints:e,suggestPoints:t,matrix:n,row:c,col:o,freezing:s,setGameOverlayState:r}=function(){const[{connectingLinePoints:e,suggestPoints:t,freezing:n},a]=Object(u.d)(re),{matrix:c,row:o,col:s,status:r}=Object(u.e)(se);return{connectingLinePoints:e,suggestPoints:t,matrix:c,row:o,col:s,status:r,freezing:n,setGameOverlayState:a}}(),i=new Array(o+2).fill(!1),l=s?"freezing-board":"";return Object(a.useEffect)((()=>{s&&setTimeout((()=>{r((e=>Object(T.a)(Object(T.a)({},e),{},{freezing:!1})))}),3e3)}),[s]),Object(H.jsx)("div",{className:"game-overlay board-".concat(c,"x").concat(o," ").concat(l),children:n&&n.map(((n,a)=>Object(H.jsx)(ct,{cards:i,rowIndex:a,connectingLinePoints:e,suggestPoints:t},"row-".concat(a))))})};var st=e=>{let{color:t="#D22128"}=e;const{t:n}=Object(i.a)(),{level:a}=Object(u.e)(se),c=Number.parseInt(a)>Number.parseInt(P)?P:a;return Object(H.jsxs)("h3",{className:"game-title",style:{fontSize:"1.3rem",color:t,boxShadow:"none"},children:[n("Level")," ",Object(H.jsxs)("span",{style:{color:"#D22128",background:"#fff",padding:"4px",borderRadius:"15px",boxShadow:"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px"},children:[c," / ",P]})]})};var rt=e=>{let{hasTiming:t=!1}=e;const{t:n}=Object(i.a)(),{status:c,pokemons:o,matrix:s,row:r,col:l}=Object(u.e)(se),{playRisingPopSound:d,playGlugSound:m}=Object(u.e)(_),[b,p]=Object(u.d)(k),[{connectingLinePoints:g},h]=Object(u.d)(re),[E,x]=Object(a.useState)(0),y=Object(a.useRef)(0),f=Object(a.useRef)(0),v=Object(a.useRef)(3),{startGame:S}=de(j.SPEED_MODE);return Object(a.useEffect)((()=>{let e;if(c===O.PENDING&&t&&(y.current=0),c===O.RUNNING){if(t&&f.current>=10){const{foundConnectLine:e,fromPoint:t,toPoint:n}=B(o,s,r,l);e&&h((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[t,n]}))),f.current=0}e=setTimeout((()=>{y.current++,f.current++,x(E+1)}),1e3)}return c===O.COMPLETED&&e&&clearTimeout(e),()=>{e&&clearTimeout(e)}}),[c,E]),Object(a.useEffect)((()=>{let e;if(c===O.PENDING){t&&h((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[void 0,void 0]}))),y.current=0,v.current=3;const n=document.getElementById("count-down-pending-timing");n&&(n.innerText=v.current.toString()),e=setInterval((()=>{v.current<=1?(e&&clearInterval(e),v.current=3,S()):v.current--;const t=document.getElementById("count-down-pending-timing");t&&(t.innerText=v.current.toString())}),1e3)}return c===O.COMPLETED&&(e&&clearInterval(e),t&&(f.current=0,p(Object(T.a)(Object(T.a)({},b),{},{playerTiming:y.current})))),()=>{f.current=0,v.current=3,e&&clearInterval(e)}}),[c]),Object(a.useEffect)((()=>{1===g.length&&(m&&m(),y.current+=5),g.length>1&&(f.current=0,d&&d())}),[g]),Object(H.jsxs)(H.Fragment,{children:[!t&&Object(H.jsx)("div",{id:"count-down-pending-timing",className:"overlay-pending-timing",children:v.current},"count-down"),Object(H.jsxs)("p",{className:"text-center",children:[n("Your time"),": ",te(y.current)]})]})};var it=e=>{let{title:t,win:n=!0}=e;const{t:a}=Object(i.a)(),{player:c}=Object(u.e)(k),{status:o}=Object(u.e)(se);return Object(H.jsx)("h1",{className:"game-title",style:{fontSize:"50px"},children:Object(H.jsx)("img",{src:!0===n?"game-title-2.png":"game-title-3.png",alt:""})})};var lt=e=>{let{action:t}=e;const{t:n}=Object(i.a)(),{player:a}=Object(u.e)(k);return Object(H.jsx)("p",{style:{width:"100%",marginTop:"0px"},children:Object(H.jsx)("button",{className:Q.a.button,style:{fontSize:"15px",padding:"7px"},onClick:()=>t(a),children:n("Replay")})})};var dt=e=>{let{hasTiming:t=!1}=e;const{t:n}=Object(i.a)(),{replayGame:a}=de(j.SPEED_MODE);return Object(H.jsxs)("div",{className:"game-info",children:[Object(H.jsx)(it,{title:n("Speed mode")}),Object(H.jsx)(st,{}),Object(H.jsx)(rt,{hasTiming:t}),Object(H.jsx)(lt,{action:a})]})};var ut=()=>{const{t:e}=Object(i.a)(),{status:t}=Object(u.e)(se),{playPopUpOnSound:n}=Object(u.e)(_);return Object(H.jsxs)("div",{className:"game-container",children:[Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"Pika pika! - Speed mode board"})]}),Object(H.jsxs)("div",{className:"game-board game-".concat(t),children:[Object(H.jsx)(dt,{}),Object(H.jsx)(ot,{}),Object(H.jsx)(et,{mode:j.SPEED_MODE})]}),Object(H.jsxs)("div",{className:"sidebar",children:[Object(H.jsx)(dt,{hasTiming:!0}),Object(H.jsxs)("div",{children:[Object(H.jsx)("blockquote",{className:"game-helper",children:e("Please complete all levels as fast as you can")}),Object(H.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will increase the time")})]}),Object(H.jsx)(l.b,{to:d.SINGLE_PLAYER_PAGE,children:Object(H.jsx)("button",{onClick:()=>n&&n(),children:e("Back")})}),Object(H.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(H.jsx)(Oe,{})]})]})},mt=n(20),jt=n.n(mt);var bt=e=>{let{hasTiming:t=!1}=e;const{level:n}=Object(r.h)(),{t:c}=Object(i.a)(),{status:o,pokemons:s,matrix:l,row:d,col:m}=Object(u.e)(se),{playRisingPopSound:b,playGlugSound:p}=Object(u.e)(_),[g,h]=Object(a.useState)(0),E=Object(a.useRef)(0),x="easy"===n?300:200,y=Object(a.useRef)(x),f=Object(a.useRef)(3),v=Object(a.useRef)(0),[S,P]=Object(u.d)(k),{endGame:I,startGame:N}=de(j.SURVIVAL_MODE),[{connectingLinePoints:L},w]=Object(u.d)(re);return Object(a.useEffect)((()=>{let e;if(o===O.PENDING&&t&&(E.current=0,y.current=x),o===O.RUNNING){if(t&&v.current>=10){const{foundConnectLine:e,fromPoint:t,toPoint:n}=B(s,l,d,m);e&&w((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[t,n]}))),v.current=0}y.current<=0?t&&I():e=setTimeout((()=>{E.current++,v.current++,y.current--,h(g+1)}),1e3)}return o===O.COMPLETED&&e&&clearTimeout(e),()=>{e&&clearTimeout(e)}}),[o,g]),Object(a.useEffect)((()=>{let e;if(o===O.PENDING){t&&w((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[void 0,void 0]}))),E.current=0,f.current=3;const n=document.getElementById("count-down-pending-timing");n&&(n.innerText=f.current.toString()),e=setInterval((()=>{f.current<=1?(e&&clearInterval(e),f.current=3,N()):f.current--;const t=document.getElementById("count-down-pending-timing");t&&(t.innerText=f.current.toString())}),1e3)}return o===O.COMPLETED&&(e&&clearInterval(e),t&&P(Object(T.a)(Object(T.a)({},S),{},{playerTiming:E.current}))),()=>{f.current=3,e&&clearInterval(e)}}),[o]),Object(a.useEffect)((()=>{1===L.length&&(p&&p(),y.current-=5),L.length>1&&(b&&b(),y.current+=2,v.current=0)}),[L]),Object(H.jsxs)(H.Fragment,{children:[!t&&Object(H.jsx)("div",{id:"count-down-pending-timing",className:"overlay-pending-timing",children:f.current}),Object(H.jsx)("p",{className:jt.a.timingText,children:Object(H.jsx)("span",{className:jt.a.timingInfo,children:c("Your time")+": "+te(y.current)})})]})};var Ot=e=>{let{hasTiming:t=!1}=e;const{t:n}=Object(i.a)();return Object(H.jsxs)("div",{className:"game-info",style:{width:"100%"},children:[Object(H.jsx)(it,{title:n("Pika Pika!")}),Object(H.jsx)(st,{}),Object(H.jsx)(bt,{hasTiming:t})]})};var pt=e=>{let{hasTiming:t=!1,isWin:n=!1}=e;const{replayGame:c}=de(j.SURVIVAL_MODE),[o,s]=Object(a.useState)("");return Object(a.useEffect)((()=>{n&&(async()=>{try{const e=await fetch("https://beta.theciu.vn/api/minigame/pikachu/get-gift"),t=await e.json();s(t.data)}catch(e){console.error("reCAPTCHA error:",e)}})()}),[n]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("style",{children:"\n        .loader {\n          width: 120px;\n          height: 20px;\n          -webkit-mask: linear-gradient(90deg,#000 70%,#0000 0) left/20% 100%;\n          background:\n            linear-gradient(#000 0 0) left -25% top 0 /20% 100% no-repeat\n            #ddd;\n          animation: l7 1s infinite steps(6);\n        }\n        @keyframes l7 {\n          100% {background-position: right -25% top 0}\n        }\n      "}),Object(H.jsxs)("div",{className:"game-info",style:{width:"100%"},children:[o?Object(H.jsxs)("div",{style:{position:"relative"},children:[Object(H.jsx)("img",{src:"win-popup.png",style:{width:"50%",display:"block",margin:"auto"},alt:""}),Object(H.jsx)("p",{style:{position:"absolute",bottom:"0%",margin:"0",left:"50%",fontSize:"10px",transform:"translate(-50%, -50%)",border:"1px solid #fff",padding:"0 16px",borderRadius:"16px"},children:o})]}):Object(H.jsx)("div",{className:"loader"}),Object(H.jsx)("p",{style:{textAlign:"center",fontSize:"12px",width:"220px",fontWeight:"bold"},children:"Vui l\xf2ng ch\u1ee5p m\xe0n h\xecnh voucher v\xe0 \u0111\u01b0a thu ng\xe2n khi thanh to\xe1n."}),Object(H.jsx)(lt,{action:()=>{s(""),c("")}})]})]})};var gt=e=>{let{hasTiming:t=!1}=e;const{replayGame:n}=de(j.SURVIVAL_MODE),{t:a}=Object(i.a)(),{status:c}=Object(u.e)(se);return console.log(c),Object(H.jsxs)("div",{className:"game-info",style:{width:"100%"},children:[c===O.COMPLETED&&Object(H.jsx)("div",{style:{background:"#fff",color:"red",fontWeight:"bold",fontSize:"1.5rem",borderRadius:"2rem",padding:"0.5rem 2rem",textAlign:"center",display:"inline-block",margin:"0 auto 1rem auto"},children:"OOPS, VOUCHER 50K H\u1ee4T M\u1ea4T R\u1ed2I!"}),Object(H.jsx)(st,{color:"#fff"}),c!==O.COMPLETED&&Object(H.jsx)(bt,{hasTiming:t}),Object(H.jsx)("div",{style:{marginTop:"1rem"}}),Object(H.jsx)(lt,{action:n})]})};n(79);var ht=e=>{let{hasTiming:t=!1}=e;const{level:n}=Object(r.h)(),{t:c}=Object(i.a)(),{status:o,pokemons:s,matrix:l,row:d,col:m}=Object(u.e)(se),{playRisingPopSound:b,playGlugSound:p}=Object(u.e)(_),[g,h]=Object(a.useState)(0),E=Object(a.useRef)(0),x="easy"===n?300:200,y=Object(a.useRef)(x),f=Object(a.useRef)(3),v=Object(a.useRef)(0),[S,P]=Object(u.d)(k),{endGame:I,startGame:N}=de(j.SURVIVAL_MODE),[{connectingLinePoints:L},w]=Object(u.d)(re);return Object(a.useEffect)((()=>{let e;if(o===O.PENDING&&t&&(E.current=0,y.current=x),o===O.RUNNING){if(t&&v.current>=10){const{foundConnectLine:e,fromPoint:t,toPoint:n}=B(s,l,d,m);e&&w((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[t,n]}))),v.current=0}y.current<=0?t&&I():e=setTimeout((()=>{E.current++,v.current++,y.current--,h(g+1)}),1e3)}return o===O.COMPLETED&&e&&clearTimeout(e),()=>{e&&clearTimeout(e)}}),[o,g]),Object(a.useEffect)((()=>{let e;if(o===O.PENDING){t&&w((e=>Object(T.a)(Object(T.a)({},e),{},{suggestPoints:[void 0,void 0]}))),E.current=0,f.current=3;const n=document.getElementById("count-down-pending-timing");n&&(n.innerText=f.current.toString()),e=setInterval((()=>{f.current<=1?(e&&clearInterval(e),f.current=3,N()):f.current--;const t=document.getElementById("count-down-pending-timing");t&&(t.innerText=f.current.toString())}),1e3)}return o===O.COMPLETED&&(e&&clearInterval(e),t&&P(Object(T.a)(Object(T.a)({},S),{},{playerTiming:E.current}))),()=>{f.current=3,e&&clearInterval(e)}}),[o]),Object(a.useEffect)((()=>{1===L.length&&(p&&p(),y.current-=5),L.length>1&&(b&&b(),y.current+=2,v.current=0)}),[L]),Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("p",{className:jt.a.timingText,style:{margin:"0px",fontSize:"11px"},children:Object(H.jsxs)("span",{className:jt.a.timingInfo,children:["C\xf2n: ",te(y.current)]})})})};var Et=e=>{let{fill:t="#000000",className:n="",width:a=24,height:c=24}=e;return Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t,width:a,height:c,viewBox:"0 0 512 512",className:n,children:[Object(H.jsx)("g",{children:Object(H.jsx)("g",{children:Object(H.jsx)("path",{d:"M0,0v512h512V0H0z M477.867,477.867H34.133V34.133h443.733V477.867z"})})}),Object(H.jsx)("g",{children:Object(H.jsx)("g",{children:Object(H.jsx)("polygon",{points:"126.533,102.4 199.111,102.4 199.111,68.267 68.267,68.267 68.267,199.111 102.4,199.111 102.4,126.538 198.422,222.558 222.556,198.423"})})}),Object(H.jsx)("g",{children:Object(H.jsx)("g",{children:Object(H.jsx)("polygon",{points:"222.557,313.581 198.422,289.445 102.4,385.467 102.4,312.889 68.267,312.889 68.267,443.733 199.111,443.733 199.111,409.6 126.538,409.6"})})}),Object(H.jsx)("g",{children:Object(H.jsx)("g",{children:Object(H.jsx)("polygon",{points:"409.6,312.889 409.6,385.467 313.578,289.444 289.444,313.578 385.462,409.6 312.889,409.6 312.889,443.733 443.733,443.733 443.733,312.889"})})}),Object(H.jsx)("g",{children:Object(H.jsx)("g",{children:Object(H.jsx)("polygon",{points:"312.889,68.267 312.889,102.4 385.467,102.4 289.444,198.423 313.578,222.558 409.6,126.538 409.6,199.111 443.733,199.111 443.733,68.267"})})})]})};var xt=()=>{const{status:e}=Object(u.e)(se),{replayGame:t,endGame:n}=de(j.SURVIVAL_MODE),{level:c}=Object(u.e)(se),[o,s]=Object(a.useState)(!1),[r,i]=Object(a.useState)(!1),l=Number.parseInt(c)>Number.parseInt(P)?P:c;Object(a.useEffect)((()=>{Number.parseInt(c)>=13?(n(!0),s(!0)):s(!1)}),[c]);const d=()=>e!==O.PENDING;return Object(H.jsxs)("div",{className:"game-container",style:{position:"relative"},children:[o?Object(H.jsx)(pt,{isWin:o}):Object(H.jsx)(gt,{hasTiming:d()}),Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"Pika pika! - Survival mode board"})]}),Object(H.jsxs)("div",{className:"game-board game-".concat(e," ").concat(r?"full":""),children:[Object(H.jsx)(ot,{}),Object(H.jsx)(et,{mode:j.SURVIVAL_MODE})]}),Object(H.jsxs)("div",{className:"sidebar ".concat(r?"hide":""),children:[Object(H.jsx)(Ot,{hasTiming:!0}),Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"2px"},children:[Object(H.jsx)("p",{style:{fontSize:"7px",textAlign:"center",color:"#D22128"},children:"Th\u1eddi gian s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon"}),Object(H.jsx)("span",{style:{color:"#D22128"},children:"|"}),Object(H.jsx)("p",{style:{fontSize:"7px",textAlign:"center",color:"#D22128"},children:"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian 10s"})]}),Object(H.jsx)(lt,{action:t}),Object(H.jsx)("div",{style:{width:"fit-content",display:"flex",justifyContent:"center"},children:Object(H.jsxs)("button",{style:{display:"flex",justifyContent:"center",fontSize:"15px",padding:"7px",marginTop:"0"},className:Q.a.button,onClick:()=>i(!r),children:["T\u1ed1i gi\u1ea3n ",Object(H.jsx)("span",{style:{verticalAlign:"middle",display:"inline-block",height:"16px",paddingLeft:"4px"},children:Object(H.jsx)(Et,{fill:"#A80000",width:16,height:16})})]})})]}),r&&Object(H.jsxs)("div",{className:"sticky-info sticky-info-card",style:{position:"fixed",top:"8px",right:"8px",zIndex:1e3,background:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 5px 3px 5px",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",transition:"box-shadow 0.2s, transform 0.2s",border:"1px solid #f2f2f2",width:"105px",minWidth:"105px",maxWidth:"105px",cursor:"pointer"},onClick:()=>i(!r),onMouseOver:e=>{e.currentTarget.style.boxShadow="0 4px 12px rgba(210,33,40,0.12)",e.currentTarget.style.transform="translateY(-1px) scale(1.01)"},onMouseOut:e=>{e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",e.currentTarget.style.transform="none"},children:[Object(H.jsxs)("span",{className:"game-title",style:{color:"#D22128",boxShadow:"none",marginTop:"0px",background:"#fff",padding:"1px 3px",fontSize:"10px",borderRadius:"3px",fontWeight:700,letterSpacing:"0.2px",marginBottom:"0",width:"100%",textAlign:"center"},children:["Lv ",Object(H.jsxs)("span",{children:[l,"/",P]})]}),Object(H.jsx)(ht,{hasTiming:d()}),Object(H.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(H.jsxs)("button",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"7px",padding:"2px 0",marginTop:"0",color:"#fff",background:"#D22128",border:"none",borderRadius:"3px",fontWeight:700,boxShadow:"0 1px 2px rgba(210,33,40,0.08)",cursor:"pointer",transition:"background 0.2s, box-shadow 0.2s",whiteSpace:"nowrap",width:"100%",textAlign:"center",minWidth:"0"},className:Q.a.button,onClick:e=>{e.stopPropagation(),i(!r)},onMouseOver:e=>{e.currentTarget.style.background="#a80000",e.currentTarget.style.boxShadow="0 1px 4px rgba(210,33,40,0.12)"},onMouseOut:e=>{e.currentTarget.style.background="#D22128",e.currentTarget.style.boxShadow="0 1px 2px rgba(210,33,40,0.08)"},children:["Thu g\u1ecdn ",Object(H.jsx)("span",{style:{verticalAlign:"middle",display:"inline-block",height:"7px",paddingLeft:"2px"},children:Object(H.jsx)(Et,{fill:"#fff",width:7,height:7})})]})})]})]})},yt=n(21),ft=n.n(yt);var vt=()=>{const{t:e}=Object(i.a)(),t=Object(r.f)(),n=Object(u.g)(k),[a,c]=ue("player","");return Object(H.jsx)("div",{className:ft.a.background,children:Object(H.jsxs)("div",{className:ft.a.overlay,children:[Object(H.jsx)("h1",{children:Object(H.jsx)("img",{src:"game-title.png",alt:""})}),Object(H.jsxs)("form",{onSubmit:a=>{a.preventDefault();const o=a.currentTarget.playerName.value;if(o&&""!==o.trim())if(o.match(/^[a-zA-Z0-9 ]*$/gim)){const e=o+"-"+Object(L.a)(6);c(e),n({player:e,playerTiming:0}),t.push(d.SURVIVAL_MODE_EASY_PAGE)}else alert(e("Accept alphabet and digit only."));else alert(e("Please enter your name"))},className:ft.a.form,children:[Object(H.jsx)("input",{name:"playerName",type:"text",autoFocus:!0,color:"black",placeholder:e("Enter your name here"),maxLength:20,autoComplete:"off",className:ft.a.input}),Object(H.jsx)("button",{className:ft.a.button,children:e("Submit")})]})]})})};var St=e=>{let{status:t,player:n}=e;const{t:a}=Object(i.a)(),{allReady:c,competitor:o}=Object(u.e)(ze),s=c.includes(null!==o&&void 0!==o?o:"")?"ready":"";return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("button",{className:"button-".concat(t," ").concat(s),children:a("Ready")}),Object(H.jsxs)("div",{children:[o&&Object(H.jsxs)("span",{children:[Object(H.jsxs)("em",{children:["(ID: ",W(o),")"]})," ",F(o)," "]}),Object(H.jsxs)("strong",{children:[":",a("Competitor")]})]})]})};var Pt=Object(u.b)({key:b.GAME_BATTLE_POINTS_STATE,default:{competitorPoint:0,yourPoint:0}});function It(){const e=Object(u.g)(se),t=Object(u.f)(se),n=Object(u.g)(le),c=Object(u.f)(ie),o=Object(u.g)(ze),s=Object(u.g)(re),r=Object(u.f)(re),i=Object(u.g)(Pt),l=Object(u.f)(Pt),{playBiteSound:d,playYouWinSound:m,playDisableSound:j,playOpenMenuSound:b,playRisingPopSound:p,playGlugSound:h}=Object(u.e)(_),E=()=>{t(),r(),c(),o((e=>Object(T.a)(Object(T.a)({},e),{},{allReady:[]}))),v()},f=Object(a.useCallback)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.PENDING;const{row:a,col:c}=y[t],o=D(a,c),{pokemonMatrix:s,pokemons:r}=M(o,a,c);e({pokemons:r,matrix:s,level:t,row:a,col:c,status:n})}),[e]),v=()=>{f(x.LEVEL_1)};return{initGame:f,reSetupGame:v,startGame:()=>{e((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.RUNNING})))},onReadyGame:()=>{e((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.READY}))),o((e=>Object(T.a)(Object(T.a)({},e),{},{winner:void 0}))),l()},endGame:t=>{m&&m(),e((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.COMPLETED}))),o((e=>Object(T.a)(Object(T.a)({},e),{},{winner:t,allReady:[]})))},selectBattlePokemon:(e,t,a)=>{d&&d(),n({nid:e,rowIndex:t,colIndex:a})},resetGame:E,pendingGame:()=>{e((e=>Object(T.a)(Object(T.a)({},e),{},{status:O.PENDING})))},increaseYourPoints:()=>{p&&p(),i((e=>Object(T.a)(Object(T.a)({},e),{},{yourPoint:e.yourPoint+5})))},decreaseYourPoints:()=>{h&&h(),i((e=>Object(T.a)(Object(T.a)({},e),{},{yourPoint:e.yourPoint-5})))},levelUpYourPoints:()=>{h&&h(),i((e=>Object(T.a)(Object(T.a)({},e),{},{yourPoint:e.yourPoint+10})))},handleSocketEvents:e=>{let{event:t,content:n,player:a,command:c,match:r,currentPlayer:l}=e;switch(t){case g.READY:b&&b(),o((e=>Object(T.a)(Object(T.a)({},e),{},{allReady:e.allReady.includes(a)?e.allReady:[...e.allReady,a]})));break;case g.UNREADY:j&&j(),o((e=>Object(T.a)(Object(T.a)({},e),{},{allReady:e.allReady.filter((e=>e!==a))})));break;case g.JOINED:a!==l&&p&&p(),o((e=>Object(T.a)(Object(T.a)({},e),{},{competitor:a===l||a===e.competitor?e.competitor:a}))),E();break;case g.QUIT:o((e=>Object(T.a)(Object(T.a)({},e),{},{competitor:void 0,allReady:a===l?[]:e.allReady.filter((e=>e===l))})));break;case g.INCREASE_COMPETITOR_POINTS:a!==l&&i((e=>Object(T.a)(Object(T.a)({},e),{},{competitorPoint:e.competitorPoint+5})));break;case g.DECREASE_COMPETITOR_POINTS:a!==l&&i((e=>Object(T.a)(Object(T.a)({},e),{},{competitorPoint:e.competitorPoint-5})));break;case g.FREEZE_COMPETITOR_BOARD:a!==l&&s((e=>Object(T.a)(Object(T.a)({},e),{},{freezing:!0})));break;case g.LEVEL_UP_POINTS:a!==l&&i((e=>Object(T.a)(Object(T.a)({},e),{},{competitorPoint:e.competitorPoint+10})));case g.GAME_WINNER:}}}}var _t=()=>{const{t:e}=Object(i.a)(),{endGame:t}=It(),{yourPoint:n,competitorPoint:a}=Object(u.e)(Pt),{competitor:c}=Object(u.e)(ze),{status:o}=Object(u.e)(se),{player:s}=Object(u.e)(k),r=50+n-a;return o===O.RUNNING&&(r>=100?t(s):r<=0&&t(null!==c&&void 0!==c?c:s)),Object(H.jsxs)("div",{className:"battle-bar animated-red-gradient",children:[Object(H.jsx)("div",{className:"your-bar animated-blue-gradient",style:{width:r+"%"},children:Object(H.jsxs)("span",{className:"point",children:[e("Your points")," ",null!==n&&void 0!==n?n:0]})}),Object(H.jsxs)("span",{className:"point",children:[null!==a&&void 0!==a?a:0," ",e("Competitor points")]})]})};const Nt=e=>{var t;let{pokemon:n,rowIndex:a,colIndex:c,isSelected:o,status:s,selectPokemon:r}=e;const i=o?"selected":"",l=n.matched?"hidden":"";return Object(H.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(t=n.image)&&void 0!==t?t:"",")")},className:"pokemon-card ".concat(i," ").concat(l),onClick:()=>{o||n.matched||s!==O.RUNNING||!n.nid||r(n.nid,a,c)}})};function kt(e,t){return e.pokemon.nid===t.pokemon.nid&&e.pokemon.image===t.pokemon.image&&e.pokemon.matched===t.pokemon.matched&&e.isSelected===t.isSelected&&e.status===t.status}var Tt=Object(a.memo)(Nt,kt);var Lt=e=>{let{pokemons:t,rowIndex:n,status:a}=e;const c=Object(u.e)(ie),{selectBattlePokemon:o}=It();return Object(H.jsx)(H.Fragment,{children:t.map(((e,t)=>Object(H.jsx)(Tt,{pokemon:e,rowIndex:n,colIndex:t,isSelected:void 0!==e.nid&&c.findIndex((t=>{let{nid:n}=t;return n===e.nid}))>=0,selectPokemon:o,status:a},"card-".concat(t))))})};function wt(){const{playLevelUpSound:e,playCompletedGameSound:t}=Object(u.e)(_),{initGame:n,resetGame:c,endGame:o,onReadyGame:s,startGame:r,pendingGame:i,increaseYourPoints:l,decreaseYourPoints:d,levelUpYourPoints:m}=It(),j=Object(u.g)(se),b=Object(u.e)(k),{matrix:p,row:g,col:h,status:E,pokemons:y,level:P}=Object(u.e)(se),{allReady:N,competitor:T,sendJoinedGame:L,sendQuitGame:w,sendIncreasePoints:A,sendDecreasePoints:G,sendGameEffect:D}=Object(u.e)(ze),{connectingLinePoints:C}=Object(u.e)(re),U=Object(a.useRef)(void 0);return Object(a.useLayoutEffect)((()=>{const e=()=>{w&&w()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[w]),Object(a.useEffect)((()=>{U.current!==T&&void 0!==T?(U.current=T,L&&L()):void 0===T&&(U.current=T)}),[T]),Object(a.useEffect)((()=>{[O.PENDING].includes(E)&&2===N.length&&s(),[O.RUNNING].includes(E)&&1===N.length&&o(N[0]),[O.COMPLETED].includes(E)&&1===N.length&&i(),[O.READY].includes(E)&&1===N.length&&c()}),[N.length,E]),Object(a.useEffect)((()=>(E===O.PENDING&&n(P),()=>{})),[E]),Object(a.useEffect)((()=>{if(Y(y)){const e=f[P];if(I===e){const e=x.LEVEL_1;n(e,O.RUNNING)}else n(e,O.RUNNING);const a=function(){const e=Math.floor(Math.random()*S.length);return S[e]}();D&&D(a),a===v.LEVEL_UP&&m(),t&&t()}else{const{foundConnectLine:t}=B(y,p,g,h);Object.keys(y).length&&!1===t&&((e=>{const t=R(e),{pokemonMatrix:n,pokemons:a}=M(t,g,h);j({pokemons:a,matrix:n,level:P,row:g,col:h,status:O.RUNNING})})(y),e&&e())}}),[y]),Object(a.useEffect)((()=>{1===C.length&&(d(),G&&G()),C.length>1&&(l(),A&&A())}),[C]),{initGame:n,resetGame:c,endGame:o,onReadyGame:s,startGame:r,matrix:p,row:g,col:h,status:E,level:P,currentPlayer:b}}var At=()=>{const{matrix:e,row:t,col:n,status:a}=wt();return Object(H.jsx)("div",{className:"game-pokemon board-".concat(t,"x").concat(n),children:a===O.RUNNING&&e&&e.map(((e,t)=>Object(H.jsx)(Lt,{rowIndex:t,pokemons:e,status:a},"row-".concat(t))))})};const Gt=e=>{let{gameId:t,player:n}=e;const{t:c}=Object(i.a)(),o=Object(r.f)(),{handleSocketEvents:s}=It(),l=Object(u.g)(ze),[m]=Object(a.useState)("".concat(ve,"/game")),{sendJsonMessage:j,readyState:b}=xe()(m,{reconnectAttempts:10,reconnectInterval:3e3,retryOnError:!0,shouldReconnect:()=>!0,queryParams:{player:n,gameId:t},onOpen:e=>{j({command:0,match:t,player:n});const a={command:2,match:t,player:n,event:g.JOINED};j(a)},onMessage:e=>{const t=JSON.parse(e.data),a=JSON.parse(t.content);a.currentPlayer=n,s(a)},onError:e=>{},onClose:e=>{}}),{sendReadyGame:O,sendUnReadyGame:h,sendQuitGame:E,sendSelectedPokemon:x,sendIncreasePoints:y,sendDecreasePoints:f,sendGameEffect:S,sendJoinedGame:P}=function(e){let{sendJsonMessage:t,gameId:n,player:a}=e;const c={command:p.SEND_MESSAGE,event:g.READY,match:n,player:a};return{sendReadyGame:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.READY});t(e)},sendUnReadyGame:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.UNREADY});t(e)},sendQuitGame:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.QUIT});t(e)},sendSelectedPokemon:(e,n)=>{const a=Object(T.a)(Object(T.a)({},c),{},{event:g.INCREASE_COMPETITOR_POINTS});t(a)},sendJoinedGame:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.JOINED});t(e)},sendDecreasePoints:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.DECREASE_COMPETITOR_POINTS});t(e)},sendIncreasePoints:()=>{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.INCREASE_COMPETITOR_POINTS});t(e)},sendGameEffect:e=>{if(e===v.FREEZE){const e=Object(T.a)(Object(T.a)({},c),{},{event:g.FREEZE_COMPETITOR_BOARD});t(e)}else{const e=Object(T.a)(Object(T.a)({},c),{},{event:g.LEVEL_UP_POINTS});t(e)}}}}({sendJsonMessage:j,gameId:t,player:n});return Object(a.useEffect)((()=>{l((e=>Object(T.a)(Object(T.a)({},e),{},{sendSelectedPokemon:x,sendReadyGame:O,sendUnReadyGame:h,sendQuitGame:E,sendJoinedGame:P,sendDecreasePoints:f,sendIncreasePoints:y,sendGameEffect:S})))}),[x,O,h,E,P,f,y,S]),b!==Ee.ReadyState.OPEN?Object(H.jsx)("div",{className:"game-status socket-".concat(Ee.ReadyState[b]),children:Object(H.jsxs)("div",{className:"service-status",children:[c("Service is not available now."),Object(H.jsx)("strong",{className:"clickable",onClick:()=>o.push(d.MULTI_PLAYER_PAGE),children:c("Out")})]})}):null};function Rt(e,t){return e.player===t.player&&e.gameId===t.gameId}var Dt=Object(a.memo)(Gt,Rt);var Mt=()=>{const{t:e}=Object(i.a)(),{status:t}=Object(u.e)(se),{allReady:n,winner:c}=Object(u.e)(ze),{startGame:o}=It(),s=Object(a.useRef)(3),[r,l]=Object(a.useState)(0),d=c||n.length>0&&n[0];let m="";return d&&(m="".concat(F(d)," - ").concat(W(d))),Object(a.useEffect)((()=>{let e;if(t===O.READY)e=setInterval((()=>{s.current<=1?(e&&clearInterval(e),s.current=3,o()):s.current--;const t=document.getElementById("count-down-pending-timing");t&&(t.innerText=s.current.toString())}),1e3);else s.current=3;return()=>{s.current=3,e&&clearInterval(e)}}),[t]),Object(a.useEffect)((()=>{let e;if(t===O.READY)e=setTimeout((()=>{l(r+1)}),1e3);else e&&clearTimeout(e);return()=>{e&&clearTimeout(e)}}),[r,t]),Object(H.jsxs)("div",{className:"game-info",children:[t===O.COMPLETED&&Object(H.jsxs)("div",{className:"battle-result",children:[Object(H.jsx)("h2",{className:"game-title",children:e("The winner")}),Object(H.jsx)("h1",{className:"text-big-title",children:m})]}),t===O.PENDING&&Object(H.jsxs)("div",{className:"battle-rule",children:[Object(H.jsx)("h1",{className:"game-title",children:e("Battle rule")}),Object(H.jsx)("blockquote",{children:e("Matched pair of pokemon, your points will be increased",{point:5})}),Object(H.jsx)("blockquote",{children:e("Matched the wrong pair of pokemon, your points will be decreased",{point:5})}),Object(H.jsx)("blockquote",{children:e("If your points are over competitor points 50 points. You are the winner and vice versa.")}),Object(H.jsx)("blockquote",{children:e("Every time you level up, you will deal 1 of 2 effects `Freeze enemy` or `Give points to yourself`",{second:3,point:10})})]}),t===O.READY&&Object(H.jsx)("div",{id:"count-down-pending-timing",className:"overlay-pending-timing",children:s.current},"count-down")]})};var Ct=e=>{let{gameId:t,status:n,player:a}=e;const{t:c}=Object(i.a)();return Object(H.jsxs)("div",{className:"game-board game-".concat(n),children:[Object(H.jsxs)("h1",{className:"game-id",children:[c("Game ID"),": ",t]}),Object(H.jsx)(Dt,{gameId:t,player:a}),Object(H.jsx)(ot,{}),Object(H.jsx)(At,{}),Object(H.jsx)(Mt,{})]})};var Ut=e=>{let{status:t,player:n}=e;const{t:a}=Object(i.a)(),{sendReadyGame:c,sendUnReadyGame:o,allReady:s}=Object(u.e)(ze),r=s.includes(n)?"ready":"";return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{children:[Object(H.jsxs)("strong",{children:[a("You"),":"]}),Object(H.jsxs)("span",{children:[F(n)," ",Object(H.jsxs)("em",{children:["(ID: ",W(n),")"]})]})]}),Object(H.jsxs)("button",{className:"button-".concat(t," ").concat(r),onClick:e=>{[O.PENDING,O.COMPLETED].includes(t)?"ready"===r?o&&o():c&&c():[O.RUNNING,O.READY].includes(t)&&o&&o()},children:[[O.PENDING,O.COMPLETED].includes(t)&&a("Ready"),[O.RUNNING,O.READY].includes(t)&&a("Stop")]})]})};var Vt=e=>{let{gameId:t,player:n}=e;const{t:a}=Object(i.a)(),{status:c}=Object(u.e)(se),{sendQuitGame:o}=Object(u.e)(ze);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"battle-container-bar",children:[Object(H.jsxs)("div",{id:"current-player-name",className:"player-box",children:[Object(H.jsx)(Ut,{status:c,player:n}),Object(H.jsx)(l.b,{to:d.MULTI_PLAYER_PAGE,onClick:o,children:Object(H.jsx)("button",{className:"button-quit",children:a("Quit")})})]}),Object(H.jsx)(_t,{}),Object(H.jsx)("div",{id:"competitor-player-name",className:" player-box",children:Object(H.jsx)(St,{status:c,player:n})})]}),t&&Object(H.jsx)(Ct,{gameId:t,status:c,player:n})]})};var Yt=()=>{var e;const{t:t}=Object(i.a)(),n=Object(r.f)(),{gameId:c}=Object(r.h)(),{player:o}=Object(u.e)(k),s=Object(a.useCallback)((()=>Ve(c)),[c]),{status:l,value:m}=ee(s),j=null!==(e=null===m||void 0===m?void 0:m.data)&&void 0!==e?e:[];return Object(a.useEffect)((()=>{l===X.SUCCESS&&j.length>=2&&!j.includes(o)&&(alert(t("The game was full slot!!!")),n.push(d.MULTI_PLAYER_PAGE))}),[l]),Object(H.jsxs)("div",{className:"game-battle-container",children:[Object(H.jsxs)(N.a,{children:[Object(H.jsx)("meta",{charSet:"utf-8"}),Object(H.jsx)("title",{children:"Pika pika! - Battle mode board"})]}),l===X.SUCCESS&&c&&Object(H.jsx)(Vt,{gameId:c,player:o})]})};var Bt=function(){const{t:e}=Object(i.a)(),{soundReady:t}=Object(u.e)(_),n=Object(r.f)(),[c,o]=Object(u.d)(k),[s]=ue("language","vi"),[l,m]=ue("player","");return Object(a.useEffect)((()=>{be.changeLanguage(s)}),[s]),Object(a.useEffect)((()=>{l&&""!==l&&F(l).match(/^[a-zA-Z0-9 ]*$/gim)?""!==c.player.trim()&&F(c.player).match(/^[a-zA-Z0-9 ]*$/gim)?o({player:c.player,playerTiming:0}):o({player:l,playerTiming:0}):(m(""),n.push(d.PLAYER_PAGE))}),[l]),Object(H.jsxs)("div",{className:"app",children:[t&&Object(H.jsx)(H.Fragment,{}),!t&&Object(H.jsx)("h1",{children:e("Preparing resource...")}),t&&Object(H.jsxs)(r.c,{children:[Object(H.jsx)(r.a,{path:d.MAIN_PAGE,exact:!0,children:Object(H.jsx)(vt,{})}),Object(H.jsx)(r.a,{path:d.SINGLE_PLAYER_PAGE,exact:!0,children:Object(H.jsx)(he,{})}),Object(H.jsx)(r.a,{path:d.MULTI_PLAYER_PAGE,exact:!0,children:Object(H.jsx)(Qe,{})}),Object(H.jsx)(r.a,{path:d.SPEED_MODE_PAGE,exact:!0,children:Object(H.jsx)(ut,{})}),Object(H.jsx)(r.a,{path:d.SURVIVAL_MODE_PAGE,exact:!0,children:Object(H.jsx)(xt,{})}),Object(H.jsx)(r.a,{path:"".concat(d.BATTLE_MODE_PAGE),exact:!0,children:Object(H.jsx)(Yt,{})}),Object(H.jsx)(r.a,{path:d.PLAYER_PAGE,exact:!0,children:Object(H.jsx)(vt,{})}),Object(H.jsx)(r.a,{path:"*",children:Object(H.jsx)(K,{})})]})]})};var Ft=e=>{e&&e instanceof Function&&n.e(4).then(n.bind(null,90)).then((t=>{let{getCLS:n,getFID:a,getFCP:c,getLCP:o,getTTFB:s}=t;n(e),a(e),c(e),o(e),s(e)}))},Wt=n(50),Ht=n.p+"static/media/menu-open.019cf647.mp3",Jt=n.p+"static/media/disable-sound.477d0574.mp3",zt=n.p+"static/media/enable-sound.00d0be95.mp3",Qt=n.p+"static/media/switch-on.88d10ee7.mp3",Kt=n.p+"static/media/switch-off.e5ebe933.mp3",Zt=n.p+"static/media/bite.aea7caff.mp3",qt=n.p+"static/media/fanfare.8807360a.mp3",$t=n.p+"static/media/glug-a.b9f1fa99.mp3",Xt=n.p+"static/media/rising-pops.7eda816b.mp3",en=n.p+"static/media/game-completion.a7022fca.wav",tn=n.p+"static/media/gamers-fail-game.1bab0c1d.mp3",nn=n.p+"static/media/time-limited.3894918f.wav",an=n.p+"static/media/levelup.3dc0430f.mp3",cn=n.p+"static/media/pop-down.cc0a5518.mp3",on=n.p+"static/media/pop-up-on.b776a1ef.mp3",sn=n.p+"static/media/pop-up-off.83c6ba5b.mp3",rn=n.p+"static/media/you-win.70d95733.mp3",ln=n.p+"static/media/game-song.c7ee5596.mp3";var dn=Object(u.b)({key:"TOGGLE_SOUND",default:{music:0,effect:1}});let un=function(e){return e.MENU_OPEN="MENU_OPEN",e.BITE="BITE",e.DISABLE="DISABLE",e.ENABLE="ENABLE",e.ON="ON",e.OFF="OFF",e.FANFARE="FANFARE",e.GLUG="GLUG",e.RISING_POP="RISING_POP",e.COMPLETE_GAME="COMPLETE_GAME",e.FAIL_GAME="FAIL_GAME",e.NEARLY_END_TIME="NEARLY_END_TIME",e.LEVEL_UP="LEVEL_UP",e.POP_DOWN="POP_DOWN",e.POP_UP_ON="POP_UP_ON",e.POP_UP_OFF="POP_UP_OFF",e.YOU_WIN="YOU_WIN",e.GAME_SONG="GAME_SONG",e}({});function mn(e){const{music:t,effect:n}=Object(u.e)(dn),a={interrupt:!0,volume:n};let c=Ht;if(e)switch(e){case un.BITE:c=Zt;break;case un.COMPLETE_GAME:c=en;break;case un.DISABLE:c=Jt;break;case un.ENABLE:c=zt;break;case un.ON:c=Qt;break;case un.OFF:c=Kt;break;case un.FAIL_GAME:c=tn;break;case un.GLUG:c=$t;break;case un.FANFARE:c=qt;break;case un.RISING_POP:c=Xt;break;case un.NEARLY_END_TIME:c=nn;break;case un.LEVEL_UP:c=an;break;case un.POP_DOWN:c=cn;break;case un.POP_UP_ON:c=on;break;case un.POP_UP_OFF:c=sn;break;case un.YOU_WIN:c=rn;break;case un.GAME_SONG:c=ln;break;default:c=Ht}const[o,{sound:s,stop:r,pause:i,duration:l}]=Object(Wt.a)(c,a);return{playSound:o,loadedSound:s,stopSound:r,pauseSound:i,duration:l,music:t,effect:n}}const jn=()=>{const{playSound:e,loadedSound:t}=mn(un.BITE),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playBiteSound:e})))}),[t,e,n]),null};function bn(){return!0}var On=Object(a.memo)(jn,bn);var pn=()=>{const{playSound:e,loadedSound:t}=mn(un.COMPLETE_GAME),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playCompletedGameSound:e})))}),[t,n,e]),null};var gn=()=>{const{playSound:e,loadedSound:t}=mn(un.MENU_OPEN),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playOpenMenuSound:e})))}),[t,n,e]),null};var hn=()=>{const{playSound:e,loadedSound:t}=mn(un.DISABLE),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playDisableSound:e})))}),[t,e,n]),null};var En=()=>{const{playSound:e,loadedSound:t}=mn(un.ENABLE),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playEnableSound:e})))}),[t,e,n]),null};var xn=()=>{const{playSound:e,loadedSound:t}=mn(un.FANFARE),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playFanfareSound:e})))}),[t,n,e]),null};var yn=()=>{const{playSound:e,loadedSound:t}=mn(un.FAIL_GAME),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playFailedGameSound:e})))}),[t,n,e]),null};var fn=()=>{const{playSound:e,loadedSound:t,duration:n}=mn(un.GAME_SONG),c=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&c((t=>Object(T.a)(Object(T.a)({},t),{},{soundReady:!0,gameSongDuration:null!==n&&void 0!==n?n:0,playGameSong:e})))}),[t]),null};var vn=()=>{const{playSound:e,loadedSound:t}=mn(un.LEVEL_UP),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playLevelUpSound:e})))}),[t,n,e]),null};var Sn=()=>{const{playSound:e,loadedSound:t}=mn(un.NEARLY_END_TIME),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playNearlyEndTimeSound:e})))}),[t,n,e]),null};var Pn=()=>{const{playSound:e,loadedSound:t}=mn(un.OFF),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playOffSound:e})))}),[t,e,n]),null};var In=()=>{const{playSound:e,loadedSound:t}=mn(un.ON),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playOnSound:e})))}),[t,e,n]),null};var _n=()=>{const{playSound:e,loadedSound:t}=mn(un.POP_DOWN),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playPopDownSound:e})))}),[t,n,e]),null};var Nn=()=>{const{playSound:e,loadedSound:t}=mn(un.POP_UP_OFF),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playPopUpOffSound:e})))}),[t,n,e]),null};var kn=()=>{const{playSound:e,loadedSound:t}=mn(un.POP_UP_ON),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playPopUpOnSound:e})))}),[t,n,e]),null};var Tn=()=>{const{playSound:e,loadedSound:t}=mn(un.YOU_WIN),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playYouWinSound:e})))}),[t,e,n]),null};var Ln=()=>{const{playSound:e,loadedSound:t}=mn(un.RISING_POP),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playRisingPopSound:e})))}),[t,e,n]),null},wn=n(51),An=n.n(wn);var Gn=()=>{const{music:e}=Object(u.e)(dn);return Object(H.jsx)("div",{className:"game-theme",children:Object(H.jsx)(An.a,{url:"https://www.youtube.com/watch?v=6ZUDiC6TB-k",playing:!!e,loop:!0})})};var Rn=()=>{const{playSound:e,loadedSound:t}=mn(un.GLUG),n=Object(u.g)(_);return Object(a.useEffect)((()=>{null!==t&&n((t=>Object(T.a)(Object(T.a)({},t),{},{playGlugSound:e})))}),[t,n,e]),null};var Dn=e=>{let{children:t}=e;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Gn,{}),Object(H.jsx)(On,{}),Object(H.jsx)(pn,{}),Object(H.jsx)(hn,{}),Object(H.jsx)(En,{}),Object(H.jsx)(yn,{}),Object(H.jsx)(xn,{}),Object(H.jsx)(fn,{}),Object(H.jsx)(vn,{}),Object(H.jsx)(Sn,{}),Object(H.jsx)(Pn,{}),Object(H.jsx)(In,{}),Object(H.jsx)(gn,{}),Object(H.jsx)(_n,{}),Object(H.jsx)(Nn,{}),Object(H.jsx)(kn,{}),Object(H.jsx)(Ln,{}),Object(H.jsx)(Tn,{}),Object(H.jsx)(Rn,{}),t]})};function Mn(){const e=.01*window.innerHeight;document.documentElement.style.setProperty("--real-vh","".concat(e,"px"))}window.addEventListener("resize",Mn),window.addEventListener("orientationchange",Mn),Mn(),s.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(u.a,{children:Object(H.jsx)(Dn,{children:Object(H.jsx)(l.a,{children:Object(H.jsx)(Bt,{})})})})}),document.getElementById("root")),Ft()}},[[87,1,2]]]);
//# sourceMappingURL=main.a513cb73.chunk.js.map